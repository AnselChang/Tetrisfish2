<!-- svg dims are set to # of placements for x and 0-1 for y -->
<svg #svgElement
    [attr.viewBox]="'0 0 ' + (numPlacements) + ' 1'"
    (mouseenter)="onMouseEnter()" (mousemove)="onMouseMove($event)" (mouseleave)="onMouseLeave()"
    preserveAspectRatio="none"
>

    <!-- draw background colors for each speed -->
    <g *ngFor="let pair of speedPlacementPairs">
        <rect [attr.x]="pair.placementIndex" [attr.width]="pair.numPlacements"
            [attr.height]="0.8" [attr.y]="0.1" [attr.fill]="getColorForSpeed(pair.speed)" opacity="0.2">
        </rect>
        <rect [attr.x]="pair.placementIndex" [attr.width]="pair.numPlacements"
            [attr.height]="0.1" [attr.y]="0.9" [attr.fill]="getColorForSpeed(pair.speed)" opacity="1">
        </rect>
    </g>

    <!-- draw drought locations -->
    <g class="drought-rect" *ngFor="let drought of droughts" [tooltip]="drought.tooltip">
        <rect [attr.x]="drought.startIndex" [attr.width]="drought.endIndex - drought.startIndex"
        [attr.height]="0.1" [attr.y]="0" fill="rgb(255,0,0)">
    </rect>
    </g>

    <!-- draw hovered placement -->
    <rect *ngIf="hoveredPlacement !== null"
        [attr.x]="hoveredPlacement"
        [attr.width]="getSVGDisplayPlacementWidth()" [attr.y]="0.1" [attr.height]="0.8"
        fill="white" opacity="0.1"
        (click)="onClickPlacement()"
        >
    </rect>

    <!-- draw current placement -->
    <rect class="no-pointer-events"
        [attr.x]="hoveredPlacement ? lastPermanentPlacement : currentPlacement"
        [attr.width]="getSVGDisplayPlacementWidth()" [attr.y]="0.1" [attr.height]="0.8"
        fill="black" opacity="0.4"
        (click)="onClickPlacement()"
        >
    </rect>

  </svg>