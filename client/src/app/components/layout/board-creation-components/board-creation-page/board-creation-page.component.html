<div class="board-editor">
    <h1 class="padded">Board Editor</h1>
    <app-tetris-panel>
        <app-interactive-tetris-board
            [mode]="TetrisBoardMode.MOVEABLE_CURRENT_PIECE"
            [level]="18"
            [grid]="cache.grid"
            [currentPiece]="getBestFirstPiece()"
            [nextPiece]="getBestSecondPiece()"
            (hoveredBlock)="onBlockHover($event)"
            (onMouseDown)="onMouseDown($event)"
            (onHoverOff)="onHoverOff()"/>

        <app-tooltip-button
            label="StackRabbit"
            tooltipText="Get the recommended move from StackRabbit AI for your custom board!"
            (click)="onAnalysis()"/>

        <app-tetris-panel-item class="toggleable-piece" (click)="toggleFirstPiece()">
            <h2>First Piece
                <app-tooltip-indicator tooltip="Click to change!"/>
            </h2>
            <app-next-box [showBackground]="false" [level]="18" [type]="cache.currentPieceType"></app-next-box>
        </app-tetris-panel-item>

        <app-tetris-panel-item class="toggleable-piece" (click)="toggleSecondPiece()">
            <h2>Second Piece
                <app-tooltip-indicator tooltip="Click to change!"/>
            </h2>
            <app-next-box [showBackground]="false" [level]="18" [type]="cache.nextPieceType"></app-next-box>
        </app-tetris-panel-item>

    </app-tetris-panel>
</div>